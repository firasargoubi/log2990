<div class="game-editor" cdkDropListGroup>
    <div class="panel left-panel">
        <a routerLink="/home" class="logo-link">
            <img class="logo" src="assets/images/logo.png" alt="Logo" />
        </a>
        <div class="section-header">TITRE</div>
        <div class="input-container">
            <input type="text" placeholder="ENTREZ UN TITRE" class="dark-input" [(ngModel)]="game.name" />
        </div>

        <div class="section-header">DESCRIPTION</div>
        <div class="input-container">
            <textarea placeholder="ENTREZ UNE DESCRIPTION" class="dark-input description-area" [(ngModel)]="game.description"></textarea>
        </div>

        <div class="mode-info">
            <div class="info-row">
                <span class="info-label">MODE : </span>
                <span class="info-value">{{ game.mode }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">TAILLE : </span>
                <span class="info-value">{{ game.mapSize }}</span>
            </div>
        </div>

        <div class="button-container">
            <button class="action-button save-button" (click)="saveBoard()">ðŸ’¾ SAUVEGARDER</button>
            <div class="small-buttons">
                <button class="action-button small-button" (click)="resetBoard()">RÃ‰INITIALISER</button>
            </div>
        </div>
    </div>

    <div class="panel center-panel">
        <div class="game-board">
            @if (gameLoaded) {
            <app-board [game]="game"></app-board>
            } @else {
            <app-board></app-board>
            }
        </div>
    </div>

    <div class="panel right-panel">
        <div class="section-header">TUILES</div>
        <div class="tiles-grid">
            <app-tile-options></app-tile-options>
        </div>

        <div class="section-header">ITEMS</div>
        <div class="items-grid">
            @if (gameLoaded) {
            <app-objects [mapSize]="game.mapSize"></app-objects>
            }
        </div>
    </div>

    @if (showErrorPopup) {
    <div class="popup">
        <div class="popup-content">
            <span class="close" (click)="closePopup()">&times;</span>
            <p>{{ errorMessage }}</p>
        </div>
    </div>
    }
</div>
