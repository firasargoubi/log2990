<div class="container">
    <h2>Chat et Gestion des Parties</h2>

    <!-- Section de Création de Partie -->
    <div class="section">
        <h3>Créer une Partie</h3>
        <input type="text" [(ngModel)]="createPlayerName" placeholder="Entrez votre nom" />
        <button (click)="createGame()">Créer</button>
    </div>

    <!-- Section des Parties Créées -->
    <div class="section">
        <h3>Parties en Cours</h3>
        <ul>
            <li *ngFor="let game of createdGames">
                <strong>Code de la Partie :</strong> {{ game.gameId }} <br />
                <strong>Joueurs :</strong>
                <ul>
                    <li *ngFor="let player of game.players">{{ player.name }}</li>
                </ul>
            </li>
        </ul>
    </div>

    <!-- Section de Rejoindre une Partie -->
    <div class="section">
        <h3>Rejoindre une Partie</h3>
        <input type="text" [(ngModel)]="joinGameId" placeholder="Code de la partie" />
        <input type="text" [(ngModel)]="joinPlayerName" placeholder="Votre nom" />
        <button (click)="joinGame()">Rejoindre</button>
    </div>
    <!-- Section de pour terminer une partie par un créateur -->
    <div class="section">
        <h3>Terminer une Partie</h3>
        <input 
            type="text" 
            [(ngModel)]="endGameId" 
            placeholder="Code de la partie"
        />
        <button *ngIf="currentPlayerIsHost" (click)="endGame()">Terminer</button>
    </div>

    <div class="section">
        <h3>Quitter une partie</h3>
        <input 
            type="text" 
            [(ngModel)]="gameToLeave" 
            placeholder="Code de la partie"
        />
        <input 
            type="text" 
            [(ngModel)]="playerToLeave" 
            placeholder="Votre nom"
        />
        <button *ngIf="!currentPlayerIsHost" (click)="leaveGame()">Quitter</button>
    </div>

    <!-- Section de Messages -->
    <div class="section" *ngIf="currentGame && messagesByGame[currentGame.gameId]">
        <h3>Chat</h3>
        <ul>
            <li *ngFor="let message of messagesByGame[currentGame.gameId]"><strong>{{ message.playerName }} :</strong> {{ message.message }}</li>
        </ul>
        <input type="text" [(ngModel)]="messageInput" placeholder="Écrire un message" />
        <button (click)="sendMessage()">Envoyer</button>
    </div>
</div>
